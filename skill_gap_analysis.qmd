---
title: "Skill Gap Analysis"     
format: html
kernel: python3                     
execute:
  echo: true                    
  eval: true                     
---

## 3.1 Skill Gap Analysis

### 3.1.1 Team Skill Self-Assessment
```{python}

import pandas as pd

# Team members and their self-rated proficiency (1–5)
skills_data = {
    "Name":      ["Deyang", "Yani", "Jiapei", "Junhao"],
    "Python":            [4,       3,       2,        5],
    "SQL":               [3,       2,       4,        3],
    "Machine Learning":  [2,       1,       3,        4],
    "Cloud Computing":   [1,       2,       2,        3]
}

df_skills = pd.DataFrame(skills_data).set_index("Name")
df_skills
```

3.1.2 Compare to Market Demand
```{python}
# read cleaned job postings
df = pd.read_csv("data/lightcast_job_postings_cleaned.csv")

# use the same skill columns
top_skills = df_skills.columns.tolist()

# count occurrences of each skill keyword in the job BODY
job_text = df["BODY"].fillna("")
skill_counts = {s: job_text.str.contains(s, case=False).sum() for s in top_skills}

# append a Market Demand row
df_skills.loc["Market Demand"] = [skill_counts[s] for s in top_skills]
df_skills
```

3.1.3 Visualize Skill Gaps
```{python}
import matplotlib.pyplot as plt

plt.figure(figsize=(8, 4))
plt.imshow(df_skills, aspect="auto")
plt.colorbar(label="Level (1–5) or Demand Count")
plt.xticks(range(len(df_skills.columns)), df_skills.columns, rotation=45, ha="right")
plt.yticks(range(len(df_skills.index)), df_skills.index)
plt.title("Team Skill Levels vs. Market Demand")
plt.tight_layout()
plt.show()

```
